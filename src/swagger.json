{"swagger":"2.0","info":{"title":"Data Ingestion Portal"},"host":"10.128.143.231:13666","basePath":"/api","tags":[{"name":"Admin-Company","description":"Company Controller"},{"name":"Admin-Database","description":"Database Controller"},{"name":"Admin-TeamFunction","description":"Team Function Controller"},{"name":"Admin-TeamScope","description":"Team Scope Controller"},{"name":"CSV","description":"Job Controller"},{"name":"UserInfo","description":"User Info Controller"}],"paths":{"/admin/company":{"get":{"tags":["Admin-Company"],"summary":"get company list","operationId":"getCompanyListUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"originalRef":"CompanyDO","$ref":"#/definitions/CompanyDO"}}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false},"post":{"tags":["Admin-Company"],"summary":"create company info","operationId":"createCompanyUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"companyDO","description":"companyDO","required":true,"schema":{"originalRef":"CompanyDO","$ref":"#/definitions/CompanyDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"CompanyDO","$ref":"#/definitions/CompanyDO"}}},"deprecated":false},"put":{"tags":["Admin-Company"],"summary":"update company","operationId":"updateCompanyUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"companyDO","description":"companyDO","required":true,"schema":{"originalRef":"CompanyDO","$ref":"#/definitions/CompanyDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/admin/company/{companyId}":{"delete":{"tags":["Admin-Company"],"summary":"delete company info","operationId":"deleteCompanyUsingDELETE","produces":["*/*"],"parameters":[{"name":"companyId","in":"path","description":"companyId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/admin/database":{"get":{"tags":["Admin-Database"],"summary":"get database list","operationId":"getDatabaseListUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"originalRef":"DatabaseDO","$ref":"#/definitions/DatabaseDO"}}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false},"post":{"tags":["Admin-Database"],"summary":"create database info","operationId":"createDatabaseUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"databaseDO","description":"databaseDO","required":true,"schema":{"originalRef":"DatabaseDO","$ref":"#/definitions/DatabaseDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"DatabaseDO","$ref":"#/definitions/DatabaseDO"}}},"deprecated":false},"put":{"tags":["Admin-Database"],"summary":"update database info","operationId":"updateDatabaseUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"databaseDO","description":"databaseDO","required":true,"schema":{"originalRef":"DatabaseDO","$ref":"#/definitions/DatabaseDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/admin/database/{databaseId}":{"delete":{"tags":["Admin-Database"],"summary":"delete database info","operationId":"deleteDatabaseUsingDELETE","produces":["*/*"],"parameters":[{"name":"databaseId","in":"path","description":"databaseId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/admin/teamFunction":{"get":{"tags":["Admin-TeamFunction"],"summary":"get team function list","operationId":"getTeamFunctionListUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"originalRef":"TeamFunctionDO","$ref":"#/definitions/TeamFunctionDO"}}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false},"post":{"tags":["Admin-TeamFunction"],"summary":"create team function","operationId":"createTeamFunctionUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"teamFunctionDO","description":"teamFunctionDO","required":true,"schema":{"originalRef":"TeamFunctionDO","$ref":"#/definitions/TeamFunctionDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"TeamFunctionDO","$ref":"#/definitions/TeamFunctionDO"}}},"deprecated":false},"put":{"tags":["Admin-TeamFunction"],"summary":"update team function","operationId":"updateTeamFunctionUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"teamFunctionDO","description":"teamFunctionDO","required":true,"schema":{"originalRef":"TeamFunctionDO","$ref":"#/definitions/TeamFunctionDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/admin/teamFunction/{teamFunctionId}":{"delete":{"tags":["Admin-TeamFunction"],"summary":"delete team function","operationId":"deleteTeamFunctionUsingDELETE","produces":["*/*"],"parameters":[{"name":"teamFunctionId","in":"path","description":"teamFunctionId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/admin/teamScope":{"get":{"tags":["Admin-TeamScope"],"summary":"get team scope list","operationId":"getTeamScopeListUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"originalRef":"TeamScopeDO","$ref":"#/definitions/TeamScopeDO"}}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false},"post":{"tags":["Admin-TeamScope"],"summary":"create team scope","operationId":"createTeamScopeUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"teamScopeDO","description":"teamScopeDO","required":true,"schema":{"originalRef":"TeamScopeDO","$ref":"#/definitions/TeamScopeDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"TeamScopeDO","$ref":"#/definitions/TeamScopeDO"}}},"deprecated":false},"put":{"tags":["Admin-TeamScope"],"summary":"update team scope","operationId":"updateTeamScopeUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"teamScopeDO","description":"teamScopeDO","required":true,"schema":{"originalRef":"TeamScopeDO","$ref":"#/definitions/TeamScopeDO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/admin/teamScope/{teamScopeId}":{"delete":{"tags":["Admin-TeamScope"],"summary":"delete team scope","operationId":"deleteTeamScopeUsingDELETE","produces":["*/*"],"parameters":[{"name":"teamScopeId","in":"path","description":"teamScopeId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/csv/job":{"get":{"tags":["CSV"],"summary":"get job list","operationId":"jobListUsingGET","produces":["*/*"],"parameters":[{"name":"direction","in":"query","description":"sort direction","required":false,"type":"string","allowEmptyValue":false,"enum":["ASC","DESC"]},{"name":"keyword","in":"query","description":"keyword to search","required":false,"type":"string","allowEmptyValue":false},{"name":"page","in":"query","description":"page number (1 means first page)","required":false,"type":"integer","default":1,"format":"int32","allowEmptyValue":false},{"name":"pageSize","in":"query","description":"page size","required":false,"type":"integer","default":10,"format":"int32","allowEmptyValue":false},{"name":"sortBy","in":"query","description":"field to sort by","required":false,"type":"string","allowEmptyValue":false,"enum":["outDatabaseName","outTableName","lastUploadStartTime"]}],"responses":{"200":{"description":"OK","schema":{"originalRef":"PageResponse«JobInfoDTO»","$ref":"#/definitions/PageResponse«JobInfoDTO»"}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false},"post":{"tags":["CSV"],"summary":"create job","operationId":"createJobUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"jobInfoDTO","description":"jobInfoDTO","required":true,"schema":{"originalRef":"JobInfoDTO","$ref":"#/definitions/JobInfoDTO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"JobInfoDTO","$ref":"#/definitions/JobInfoDTO"}}},"deprecated":false},"put":{"tags":["CSV"],"summary":"update job","operationId":"updateJobUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"jobInfoDTO","description":"jobInfoDTO","required":true,"schema":{"originalRef":"JobInfoDTO","$ref":"#/definitions/JobInfoDTO"}}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/csv/job/{id}":{"get":{"tags":["CSV"],"summary":"get job","operationId":"getJobUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"originalRef":"CsvJobDO","$ref":"#/definitions/CsvJobDO"}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false},"delete":{"tags":["CSV"],"summary":"delete job","operationId":"deleteJobUsingDELETE","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"originalRef":"EmptyResponse","$ref":"#/definitions/EmptyResponse"}}},"deprecated":false}},"/csv/job/{id}/uploadToken":{"get":{"tags":["CSV"],"summary":"get upload token of job","operationId":"getUploadTokenUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"originalRef":"UploadTokenDTO","$ref":"#/definitions/UploadTokenDTO"}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/userInfo":{"get":{"tags":["UserInfo"],"summary":"get user info","operationId":"userInfoUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"originalRef":"UserInfoDTO","$ref":"#/definitions/UserInfoDTO"}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/userInfo/test":{"get":{"tags":["UserInfo"],"summary":"testError","operationId":"testErrorUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}},"400":{"description":"4xx,5xx message","schema":{"originalRef":"ErrorResponse","$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}}},"definitions":{"CompanyDO":{"type":"object","properties":{"ctime":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"},"key":{"type":"string"},"mtime":{"type":"integer","format":"int64"},"name":{"type":"string"},"remark":{"type":"string"}},"title":"CompanyDO","description":"company metadata"},"CsvJobDO":{"type":"object","properties":{"creator":{"type":"string"},"ctime":{"type":"integer","format":"int64"},"dagId":{"type":"string"},"dataInsertMode":{"type":"integer","format":"int32"},"enableAutoTableEvolution":{"type":"boolean"},"id":{"type":"integer","format":"int64"},"jobKey":{"type":"string"},"lastUploadId":{"type":"integer","format":"int64"},"mtime":{"type":"integer","format":"int64"},"outDatabaseName":{"type":"string"},"outTableName":{"type":"string"},"remark":{"type":"string"}},"title":"CsvJobDO","description":"csv job metadata"},"DatabaseDO":{"type":"object","properties":{"ctime":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"},"mtime":{"type":"integer","format":"int64"},"name":{"type":"string"},"remark":{"type":"string"}},"title":"DatabaseDO","description":"Database metadata"},"EmptyResponse":{"type":"object","properties":{"message":{"type":"string"}},"title":"EmptyResponse"},"ErrorResponse":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string","description":"request path"},"status":{"type":"integer","format":"int32"},"timestamp":{"type":"string"},"trace":{"type":"string"},"violations":{"type":"array","description":"violation of each field","items":{"originalRef":"Violation","$ref":"#/definitions/Violation"}}},"title":"ErrorResponse","description":"global error message model"},"JobInfoDTO":{"type":"object","required":["dataInsertMode","enableAutoTableEvolution","id","outDatabaseName","outTableName","pics"],"properties":{"dataInsertMode":{"type":"integer","format":"int32","description":"Ingestion Mode","enum":[0,1]},"enableAutoTableEvolution":{"type":"boolean","description":"Enable Auto Evolution"},"fileOriginalName":{"type":"string"},"fileSize":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int64"},"jobKey":{"type":"string"},"jobLog":{"type":"string"},"jobStatus":{"type":"integer","format":"int32","description":"0: created, 1: uploading, 2: uploading failed, 3: ingesting, 4: ingestion failed, 5: successful","enum":[0,1,2,3,4,5]},"lastUploadStartTime":{"type":"integer","format":"int64"},"outDatabaseName":{"type":"string","description":"Database (schema)"},"outTableName":{"type":"string","description":"Table"},"pics":{"type":"array","description":"PIC list","items":{"type":"string"}}},"title":"JobInfoDTO","description":"Job Info"},"PageResponse«JobInfoDTO»":{"type":"object","properties":{"data":{"type":"array","items":{"originalRef":"JobInfoDTO","$ref":"#/definitions/JobInfoDTO"}},"total":{"type":"integer","format":"int64"}},"title":"PageResponse«JobInfoDTO»"},"TeamFunctionDO":{"type":"object","properties":{"ctime":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"},"key":{"type":"string"},"mtime":{"type":"integer","format":"int64"},"name":{"type":"string"},"remark":{"type":"string"}},"title":"TeamFunctionDO","description":"TeamFunction metadata"},"TeamScopeDO":{"type":"object","properties":{"ctime":{"type":"integer","format":"int64"},"id":{"type":"integer","format":"int64"},"key":{"type":"string"},"mtime":{"type":"integer","format":"int64"},"name":{"type":"string"},"remark":{"type":"string"}},"title":"TeamScopeDO","description":"TeamScope metadata"},"UploadTokenDTO":{"type":"object","properties":{"token":{"type":"string"}},"title":"UploadTokenDTO","description":"Upload Token"},"UserInfoDTO":{"type":"object","properties":{"email":{"type":"string"},"id":{"type":"string"},"isAdmin":{"type":"boolean"},"name":{"type":"string"}},"title":"UserInfoDTO","description":"User Info"},"Violation":{"type":"object","properties":{"fieldName":{"type":"string"},"message":{"type":"string"}},"title":"Violation"}}}